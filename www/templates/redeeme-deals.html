<ion-view view-title="Redeemed Deals" ng-init="getDeals()">
    <ion-nav-bar class="bar bar-header bar-stable">
        <ion-nav-back-button class="button-icon button-clear">
            <i class="ion-arrow-left-c" style="color:white;font-size: 24px;"></i>
        </ion-nav-back-button>
        <ion-nav-buttons side="right">
            <button class="button button-icon ion-more color-topMenu" ng-click="showMenu($event)">
                </button>
        </ion-nav-buttons>
    </ion-nav-bar>

    <ion-content>
        <ion-refresher on-refresh="doRefresh()"></ion-refresher>
        <!--for showing the data-->
        <ion-list ng-show="isCoupons && loader" ng-repeat="currentCoupon in Redeemed">
            <ion-item>
                <div class="list card" ng-click="couponFun(currentCoupon, $index);">
                    <div class="item-avatar">
                        <img ng-if="currentCoupon.img_url != ''" ng-src="{{currentCoupon.img_url}}" err-src="./img/grabbit-default.jpg">
                        <img ng-if="currentCoupon.img_url == ''" ng-src="./img/grabbit-default.jpg">
                        <h3>{{currentCoupon.business_name}}</h3>
                        <h4>{{currentCoupon.business_address}}</h4>
                        <h4>{{currentCoupon.zipcode}}</h4>
                    </div>
                </div>                
            </ion-item>
        </ion-list>

        <!-- -->
        <div ng-if="!isCoupons && loader">
            <h3 class="horizontal-center vertical-center">Loading...</h3>
        </div>
        <!--if redeem data is empty -->
         <div ng-if="isCoupons && loader && !isExistingRedeem">
            <h3 class="horizontal-center vertical-center">No Redeemed Data</h3>
        </div>
        <!-- -->
        <div ng-if="!isCoupons && !loader">
            <h3 class="horizontal-center vertical-center">NO DEALS FOUND</h3>
        </div>
    </ion-content>

</ion-view>